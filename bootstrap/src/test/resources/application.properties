# Test configuration - Use PostgreSQL with Testcontainers via Dev Services
quarkus.datasource.db-kind=postgresql

# Enable Dev Services for automatic Testcontainers PostgreSQL
quarkus.devservices.enabled=true
quarkus.datasource.devservices.enabled=true
quarkus.datasource.devservices.image-name=postgres:16-alpine

# Run Flyway migrations for tests (skip V2 predefined users for clean test data)
quarkus.flyway.migrate-at-start=true
quarkus.flyway.clean-at-start=true
# Only run V1 migration (schema creation) in tests, skip V2 (predefined users)
quarkus.flyway.target=1

# Disable security completely for tests
quarkus.oidc.enabled=false
quarkus.security.jaxrs.deny-unannotated-endpoints=false
